- type: entity
  parent: BaseWeaponNaval
  id: BaseWeaponSilo
  abstract: true
  placement:
    mode: SnapgridCenter
  components:
    - type: Sprite
      sprite: _FTL/Structures/Weapons/silo.rsi
      layers:
        - state: closed
          map: ["enum.MorgueVisualLayers.Base"]
        - state: tray
          offset: 0, -1
          map: [ "enum.StorageVisualLayers.Door" ]
    - type: ContainerContainer
      containers:
        entity_storage: !type:Container
    - type: FTLWeaponSilo
    - type: EntityStorage
      isCollidableWhenOpen: true
      showContents: false
      capacity: 1
      enteringOffset: 0, -1
      closeSound:
        path: /Audio/Items/deconstruct.ogg
      openSound:
        path: /Audio/Items/deconstruct.ogg
    - type: Appearance
    - type: GenericVisualizer
      visuals:
        enum.StorageVisuals.Open:
          # basic open.close layer:
          enum.MorgueVisualLayers.Base:
            True: { state: open }
            False: { state: closed }
          # show/hide morgue tray:
          enum.StorageVisualLayers.Door:
            True: { visible: true }
            False: { visible: false }

- type: entity
  parent: BaseWeaponSilo
  id: BaseWeaponSiloTierTwo
  abstract: true
  placement:
    mode: SnapgridCenter
  components:
    - type: Sprite
      sprite: _FTL/Structures/Weapons/silot2.rsi

- type: entity
  parent: BaseWeaponSilo
  id: BaseWeaponSiloTierThree
  abstract: true
  placement:
    mode: SnapgridCenter
  components:
    - type: Sprite
      sprite: _FTL/Structures/Weapons/silot3.rsi

# Tier 1
- type: entity
  parent: BaseWeaponSilo
  id: BasicMissileSilo
  name: basic weapon silo
  placement:
    mode: SnapgridCenter
  components:
    - type: FTLWeaponSilo
      ammoWhitelist:
        tags:
          - FTLAmmoTierOne
    - type: FTLWeapon
      cooldownTime: 10
      prototype: GenericMissile

- type: entity
  parent: BaseWeaponSilo
  id: ArtemisMarkIWeaponSilo
  name: artemis mk.1 weapon silo
  placement:
    mode: SnapgridCenter
  components:
    - type: FTLWeaponSilo
      ammoWhitelist:
        tags:
          - FTLAmmoTierOne
    - type: FTLWeapon
      cooldownTime: 5
      prototype: ArtemisMark1

- type: entity
  parent: BaseWeaponSilo
  id: ArtemisMarkIIWeaponSilo
  name: artemis mk.2 weapon silo
  placement:
    mode: SnapgridCenter
  components:
    - type: FTLWeaponSilo
      ammoWhitelist:
        tags:
          - FTLAmmoTierOne
    - type: FTLWeapon
      cooldownTime: 5
      prototype: ArtemisMark2

# Tier 2
- type: entity
  parent: BaseWeaponSiloTierTwo
  id: SwarmMarkOneMissileSilo
  name: swarm mk.1 weapon silo
  placement:
    mode: SnapgridCenter
  components:
    - type: FTLWeapon
      cooldownTime: 15
      prototype: SwarmMark1

- type: entity
  parent: BaseWeaponSiloTierTwo
  id: HoleMarkOneMissileSilo
  name: hole mk.1 weapon silo
  placement:
    mode: SnapgridCenter
  components:
    - type: FTLWeapon
      cooldownTime: 15
      prototype: HoleMissileMark1

- type: entity
  parent: BaseWeaponSiloTierTwo
  id: PunchMarkOneMissileSilo
  name: punch mk.1 weapon silo
  placement:
    mode: SnapgridCenter
  components:
    - type: FTLWeapon
      cooldownTime: 15
      prototype: PunchMissileMark1

# Tier 3
- type: entity
  parent: BaseWeaponSiloTierThree
  id: RailgunWeaponSilo
  name: railgun weapon silo
  placement:
    mode: SnapgridCenter
  components:
    - type: Sprite
      sprite: _FTL/Structures/Weapons/silot3.rsi
    - type: FTLWeaponSilo
      ammoWhitelist:
        tags:
          - FTLAmmoTierThree
    - type: FTLWeapon
      cooldownTime: 60
      prototype: RailgunLaser

- type: entity
  parent: BaseWeaponSiloTierThree
  id: SwarmMarkTwoMissileSilo
  name: swarm mk.2 weapon silo
  placement:
    mode: SnapgridCenter
  components:
    - type: FTLWeapon
      cooldownTime: 15
      prototype: SwarmMark2

- type: entity
  parent: BaseWeaponSiloTierThree
  id: HoleMarkTwoMissileSilo
  name: hole mk.2 weapon silo
  placement:
    mode: SnapgridCenter
  components:
    - type: FTLWeapon
      cooldownTime: 15
      prototype: HoleMissileMark2

- type: entity
  parent: BaseWeaponSiloTierThree
  id: PunchMarkTwoMissileSilo
  name: punch mk.2 weapon silo
  placement:
    mode: SnapgridCenter
  components:
    - type: FTLWeapon
      cooldownTime: 15
      prototype: PunchMissileMark2
